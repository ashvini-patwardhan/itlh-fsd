<!doctype html>
<html lang="en">

<head>
  <title>Registraion Form</title>
  <link rel="stylesheet" href="bootstrap.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="fonts/bootstrap.css">
  <!--  <script src="fonts/fontawesome.js"></script>-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="container-fluid">


    <div class="row my-2">
      <div class="col-md-2"></div>

    </div>

    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-4">
        <h4> Registraion Form</h4>
      </div>

    </div>

    <div class="row my-2"></div>

    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-2">
        <label for="name">Name:</label>
      </div>
      <div class="col-md-7">
        <input type="text" name="name" id="name" value="" placeholder="Name">
      </div>
    </div>

    <div class="row my-2"></div>

    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-2">
        <label for="name">Email:</label>
      </div>
      <div class="col-md-7">
        <input type="email" name="email" id="email" value="" placeholder="Email">
      </div>
    </div>

    <div class="row my-2"></div>

    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-2">
        <label for="occupation">Occupation:</label>
      </div>
      <div class="col-md-7">
        <select name="occupation" id="occupation">
                    <option value="private">private</option>
                    <option value="government">government</option>
                    <option value="education">education</option>
                    <option value="others">others</option>                 
                </select>
      </div>
    </div>

    <div class="row my-2"></div>

    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-2">
        <label for="mobile">Mobile:</label>
      </div>
      <div class="col-md-7">
        <input type="tel" name="mobile" id="mobile" value="" placeholder="Mobile">
      </div>
    </div>

    <div class="row my-2"></div>

    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-2">
        <label for="gender">Gender:</label>
      </div>
      <div class="col-md-1">
        <input type="radio" name="gender" id="gender1" value="female" /> Female
      </div>
      <div class="col-md-1">
        <input type="radio" name="gender" id="gender2" value="male" /> Male
      </div>
    </div>

    <div class="row my-2"></div>

    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-2">
        <label for="address">Address:</label>
      </div>
      <div class="col-md-7">
        <textarea name="address" id="address" cols="30" rows="8" placeholder="Address"></textarea>
      </div>
    </div>

    <div class="row my-1"></div>

    <div class="row">
      <div class="col-md-4"></div>
      <div class="col-md-2">
        <button class="button" onclick="insertData()" type="button">Apply</button>
      </div>
    </div>

    <div class="row my-2"></div>
  </div>

  <script type="text/javascript">
    function insertData() {
      var data = {
        name: document.querySelector('#name').value,
        email: document.querySelector('#email').value,
        occupation: document.querySelector('#occupation').value,
        mobile: document.querySelector('#mobile').value,
        gender: document.querySelector('input[name="gender"]:checked').value,
        address: document.querySelector('#address').value
      }

      $.ajax({
        url: 'registraion.php',
        data: data,
        method: 'POST',
        success: successCallBack,
        error: errorCallBack
      });

    }

    function successCallBack(result) {
      //console.log("done: " + result);
      if (result == 'Inserted') {
        window.location = "viewData.php";
      }
    }

    function errorCallBack() {
      console.log("nope");
    }

  </script>

</body>

</html>
